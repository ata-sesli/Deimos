import{c as E,d as P,r as h,j as l}from"./index-BSN27Gx1.js";import{c as G,d as F,e as ge,f as J,h as le,u as ve,b as Q,s as be,j as we,k as Ee,o as Ne}from"./index.esm2017-DaJykjhl.js";function A(){return A=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var t in s)({}).hasOwnProperty.call(s,t)&&(n[t]=s[t])}return n},A.apply(null,arguments)}function Z(n,e){if(n==null)return{};var s={};for(var t in n)if({}.hasOwnProperty.call(n,t)){if(e.includes(t))continue;s[t]=n[t]}return s}function Y(n,e){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,t){return s.__proto__=t,s},Y(n,e)}function K(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Y(n,e)}function Ce(n,e){return n.classList?!!e&&n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function je(n,e){n.classList?n.classList.add(e):Ce(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function ie(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function ye(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=ie(n.className,e):n.setAttribute("class",ie(n.className&&n.className.baseVal||"",e))}const oe={disabled:!1},$=E.createContext(null);var ce=function(e){return e.scrollTop},k="unmounted",R="exited",_="entering",O="entered",X="exiting",C=function(n){K(e,n);function e(t,r){var i;i=n.call(this,t,r)||this;var o=r,a=o&&!o.isMounting?t.enter:t.appear,c;return i.appearStatus=null,t.in?a?(c=R,i.appearStatus=_):c=O:t.unmountOnExit||t.mountOnEnter?c=k:c=R,i.state={status:c},i.nextCallback=null,i}e.getDerivedStateFromProps=function(r,i){var o=r.in;return o&&i.status===k?{status:R}:null};var s=e.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(r){var i=null;if(r!==this.props){var o=this.state.status;this.props.in?o!==_&&o!==O&&(i=_):(o===_||o===O)&&(i=X)}this.updateStatus(!1,i)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var r=this.props.timeout,i,o,a;return i=o=a=r,r!=null&&typeof r!="number"&&(i=r.exit,o=r.enter,a=r.appear!==void 0?r.appear:o),{exit:i,enter:o,appear:a}},s.updateStatus=function(r,i){if(r===void 0&&(r=!1),i!==null)if(this.cancelNextCallback(),i===_){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:P.findDOMNode(this);o&&ce(o)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===R&&this.setState({status:k})},s.performEnter=function(r){var i=this,o=this.props.enter,a=this.context?this.context.isMounting:r,c=this.props.nodeRef?[a]:[P.findDOMNode(this),a],u=c[0],d=c[1],f=this.getTimeouts(),m=a?f.appear:f.enter;if(!r&&!o||oe.disabled){this.safeSetState({status:O},function(){i.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:_},function(){i.props.onEntering(u,d),i.onTransitionEnd(m,function(){i.safeSetState({status:O},function(){i.props.onEntered(u,d)})})})},s.performExit=function(){var r=this,i=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:P.findDOMNode(this);if(!i||oe.disabled){this.safeSetState({status:R},function(){r.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:X},function(){r.props.onExiting(a),r.onTransitionEnd(o.exit,function(){r.safeSetState({status:R},function(){r.props.onExited(a)})})})},s.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(r,i){i=this.setNextCallback(i),this.setState(r,i)},s.setNextCallback=function(r){var i=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,i.nextCallback=null,r(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},s.onTransitionEnd=function(r,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:P.findDOMNode(this),a=r==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=c[0],d=c[1];this.props.addEndListener(u,d)}r!=null&&setTimeout(this.nextCallback,r)},s.render=function(){var r=this.state.status;if(r===k)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=Z(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return E.createElement($.Provider,{value:null},typeof o=="function"?o(r,a):E.cloneElement(E.Children.only(o),a))},e}(E.Component);C.contextType=$;C.propTypes={};function D(){}C.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:D,onEntering:D,onEntered:D,onExit:D,onExiting:D,onExited:D};C.UNMOUNTED=k;C.EXITED=R;C.ENTERING=_;C.ENTERED=O;C.EXITING=X;var Se=function(e,s){return e&&s&&s.split(" ").forEach(function(t){return je(e,t)})},B=function(e,s){return e&&s&&s.split(" ").forEach(function(t){return ye(e,t)})},ee=function(n){K(e,n);function e(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n.call.apply(n,[this].concat(i))||this,t.appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(a,c){var u=t.resolveArguments(a,c),d=u[0],f=u[1];t.removeClasses(d,"exit"),t.addClass(d,f?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(a,c)},t.onEntering=function(a,c){var u=t.resolveArguments(a,c),d=u[0],f=u[1],m=f?"appear":"enter";t.addClass(d,m,"active"),t.props.onEntering&&t.props.onEntering(a,c)},t.onEntered=function(a,c){var u=t.resolveArguments(a,c),d=u[0],f=u[1],m=f?"appear":"enter";t.removeClasses(d,m),t.addClass(d,m,"done"),t.props.onEntered&&t.props.onEntered(a,c)},t.onExit=function(a){var c=t.resolveArguments(a),u=c[0];t.removeClasses(u,"appear"),t.removeClasses(u,"enter"),t.addClass(u,"exit","base"),t.props.onExit&&t.props.onExit(a)},t.onExiting=function(a){var c=t.resolveArguments(a),u=c[0];t.addClass(u,"exit","active"),t.props.onExiting&&t.props.onExiting(a)},t.onExited=function(a){var c=t.resolveArguments(a),u=c[0];t.removeClasses(u,"exit"),t.addClass(u,"exit","done"),t.props.onExited&&t.props.onExited(a)},t.resolveArguments=function(a,c){return t.props.nodeRef?[t.props.nodeRef.current,a]:[a,c]},t.getClassNames=function(a){var c=t.props.classNames,u=typeof c=="string",d=u&&c?c+"-":"",f=u?""+d+a:c[a],m=u?f+"-active":c[a+"Active"],j=u?f+"-done":c[a+"Done"];return{baseClassName:f,activeClassName:m,doneClassName:j}},t}var s=e.prototype;return s.addClass=function(r,i,o){var a=this.getClassNames(i)[o+"ClassName"],c=this.getClassNames("enter"),u=c.doneClassName;i==="appear"&&o==="done"&&u&&(a+=" "+u),o==="active"&&r&&ce(r),a&&(this.appliedClasses[i][o]=a,Se(r,a))},s.removeClasses=function(r,i){var o=this.appliedClasses[i],a=o.base,c=o.active,u=o.done;this.appliedClasses[i]={},a&&B(r,a),c&&B(r,c),u&&B(r,u)},s.render=function(){var r=this.props;r.classNames;var i=Z(r,["classNames"]);return E.createElement(C,A({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(E.Component);ee.defaultProps={classNames:""};ee.propTypes={};function Re(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function te(n,e){var s=function(i){return e&&h.isValidElement(i)?e(i):i},t=Object.create(null);return n&&h.Children.map(n,function(r){return r}).forEach(function(r){t[r.key]=s(r)}),t}function _e(n,e){n=n||{},e=e||{};function s(d){return d in e?e[d]:n[d]}var t=Object.create(null),r=[];for(var i in n)i in e?r.length&&(t[i]=r,r=[]):r.push(i);var o,a={};for(var c in e){if(t[c])for(o=0;o<t[c].length;o++){var u=t[c][o];a[t[c][o]]=s(u)}a[c]=s(c)}for(o=0;o<r.length;o++)a[r[o]]=s(r[o]);return a}function M(n,e,s){return s[e]!=null?s[e]:n.props[e]}function Me(n,e){return te(n.children,function(s){return h.cloneElement(s,{onExited:e.bind(null,s),in:!0,appear:M(s,"appear",n),enter:M(s,"enter",n),exit:M(s,"exit",n)})})}function Te(n,e,s){var t=te(n.children),r=_e(e,t);return Object.keys(r).forEach(function(i){var o=r[i];if(h.isValidElement(o)){var a=i in e,c=i in t,u=e[i],d=h.isValidElement(u)&&!u.props.in;c&&(!a||d)?r[i]=h.cloneElement(o,{onExited:s.bind(null,o),in:!0,exit:M(o,"exit",n),enter:M(o,"enter",n)}):!c&&a&&!d?r[i]=h.cloneElement(o,{in:!1}):c&&a&&h.isValidElement(u)&&(r[i]=h.cloneElement(o,{onExited:s.bind(null,o),in:u.props.in,exit:M(o,"exit",n),enter:M(o,"enter",n)}))}}),r}var De=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},Oe={component:"div",childFactory:function(e){return e}},ne=function(n){K(e,n);function e(t,r){var i;i=n.call(this,t,r)||this;var o=i.handleExited.bind(Re(i));return i.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},i}var s=e.prototype;return s.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},s.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(r,i){var o=i.children,a=i.handleExited,c=i.firstRender;return{children:c?Me(r,a):Te(r,o,a),firstRender:!1}},s.handleExited=function(r,i){var o=te(this.props.children);r.key in o||(r.props.onExited&&r.props.onExited(i),this.mounted&&this.setState(function(a){var c=A({},a.children);return delete c[r.key],{children:c}}))},s.render=function(){var r=this.props,i=r.component,o=r.childFactory,a=Z(r,["component","childFactory"]),c=this.state.contextValue,u=De(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,i===null?E.createElement($.Provider,{value:c},u):E.createElement($.Provider,{value:c},E.createElement(i,a,u))},e}(E.Component);ne.propTypes={};ne.defaultProps=Oe;var ke=Object.defineProperty,Ie=(n,e,s)=>e in n?ke(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s,p=(n,e,s)=>Ie(n,typeof e!="symbol"?e+"":e,s),U=class{},Le=class ue extends U{constructor(e){var s;super(),p(this,"_name"),p(this,"_rngFn"),this._name=(s=e.name)!=null?s:"function",this._rngFn=e}get name(){return this._name}next(){return this._rngFn()}clone(){return new ue(this._rngFn)}};function ae(n){switch(typeof n){case"object":if(n instanceof U)return n;break;case"function":return new Le(n);default:return new Ue(n)}throw new Error(`invalid RNG seed or instance "${n}"`)}function Pe(n){if(n===void 0&&(n=crypto.randomUUID()),typeof n=="number")return n;const e=`${n}`;let s=0;for(let t=0;t<e.length;++t)s^=e.charCodeAt(t)|0;return s}function Ae(n,e){var s;const t=`${n}`;let r=0,i=0;for(;i<t.length;)e[255&i]=255&(r^=((s=e[255&i])!=null?s:0)*19)+t.charCodeAt(i++);return e.length?e:[0]}var $e=281474976710656,Ge=4503599627370496,Fe=9007199254740992,Ue=class de extends U{constructor(e){super(),p(this,"_seed"),p(this,"i"),p(this,"j"),p(this,"S");const s=Pe(e);this._seed=s;const t=Ae(s,[]),r=[],i=t.length;this.i=0,this.j=0,this.S=r;let o=0;for(;o<=255;)r[o]=o++;for(let a=0,c=0;a<=255;a++){const u=r[a];c=255&c+t[a%i]+u,r[a]=r[c],r[c]=u}this.g(256)}get name(){return"arc4"}next(){let e=this.g(6),s=$e,t=0;for(;e<Ge;)e=(e+t)*256,s*=256,t=this.g(1);for(;e>=Fe;)e/=2,s/=2,t>>>=1;return(e+t)/s}g(e){const{S:s}=this;let{i:t,j:r}=this,i=0;for(;e--;){t=255&t+1;const o=s[t];s[r]=o,r=255&r+o,s[t]=s[r],i=i*256+s[255&s[t]+o]}return this.i=t,this.j=r,i}clone(){return new de(this._seed)}},Ve=class he extends U{get name(){return"Math.random"}next(){return Math.random()}clone(){return new he}};function N(n){return new ze(n)}var ze=class{constructor(n){p(this,"n"),p(this,"isInt",()=>{if(Number.isInteger(this.n))return this;throw new Error(`Expected number to be an integer, got ${this.n}`)}),p(this,"isPositive",()=>{if(this.n>0)return this;throw new Error(`Expected number to be positive, got ${this.n}`)}),p(this,"lessThan",e=>{if(this.n<e)return this;throw new Error(`Expected number to be less than ${e}, got ${this.n}`)}),p(this,"greaterThanOrEqual",e=>{if(this.n>=e)return this;throw new Error(`Expected number to be greater than or equal to ${e}, got ${this.n}`)}),p(this,"greaterThan",e=>{if(this.n>e)return this;throw new Error(`Expected number to be greater than ${e}, got ${this.n}`)}),this.n=n}};function We(n,e=1){N(e).isInt().isPositive();const s=n.irwinHall(e);return()=>s()/e}function qe(n,e=.5){return N(e).greaterThanOrEqual(0).lessThan(1),()=>Math.floor(n.next()+e)}function Be(n,e=1,s=.5){return N(e).isInt().isPositive(),N(s).greaterThanOrEqual(0).lessThan(1),()=>{let t=0,r=0;for(;t++<e;)n.next()<s&&r++;return r}}function He(n,e=1){return N(e).isPositive(),()=>-Math.log(1-n.next())/e}function Ye(n,e=.5){N(e).greaterThan(0).lessThan(1);const s=1/Math.log(1-e);return()=>Math.floor(1+Math.log(n.next())*s)}function Xe(n,e=1){return N(e).isInt().greaterThanOrEqual(0),()=>{let s=0;for(let t=0;t<e;++t)s+=n.next();return s}}function Je(n,e=0,s=1){const t=n.normal(e,s);return()=>Math.exp(t())}function Qe(n,e=0,s=1){return()=>{let t,r,i;do t=n.next()*2-1,r=n.next()*2-1,i=t*t+r*r;while(!i||i>1);return e+s*r*Math.sqrt(-2*Math.log(i)/i)}}function Ze(n,e=1){N(e).greaterThanOrEqual(0);const s=1/e;return()=>1/Math.pow(1-n.next(),s)}var Ke=[0,0,.6931471805599453,1.791759469228055,3.1780538303479458,4.787491742782046,6.579251212010101,8.525161361065415,10.60460290274525,12.801827480081469],et=n=>Ke[n],tt=.9189385332046727;function nt(n,e=1){if(N(e).isPositive(),e<10){const s=Math.exp(-e);return()=>{let t=s,r=0,i=n.next();for(;i>t;)i=i-t,t=e*t/++r;return r}}else{const s=Math.sqrt(e),t=.931+2.53*s,r=-.059+.02483*t,i=1.1239+1.1328/(t-3.4),o=.9277-3.6224/(t-2);return()=>{for(var a;;){let c,u=n.next();if(u<=.86*o)return c=u/o-.43,Math.floor((2*r/(.5-Math.abs(c))+t)*c+e+.445);u>=o?c=n.next()-.5:(c=u/o-.93,c=(c<0?-.5:.5)-c,u=n.next()*o);const d=.5-Math.abs(c);if(d<.013&&u>d)continue;const f=Math.floor((2*r/d+t)*c+e+.445);if(u=u*i/(r/(d*d)+t),f>=10){const m=(f+.5)*Math.log(e/f)-e-tt+f-(.08333333333333333-(.002777777777777778-1/(1260*f*f))/(f*f))/f;if(Math.log(u*s)<=m)return f}else if(f>=0){const m=(a=et(f))!=null?a:0;if(Math.log(u)<=f*Math.log(e)-e-m)return f}}}}}function st(n,e=0,s=1){return()=>n.next()*(s-e)+e}function rt(n){return()=>n.next()>=.5}function it(n,e=0,s=1){return s===void 0&&(s=e===void 0?1:e,e=0),N(e).isInt(),N(s).isInt(),()=>Math.floor(n.next()*(s-e+1)+e)}var ot=class fe{constructor(e=new Ve){p(this,"_rng"),p(this,"_cache",{}),p(this,"next",()=>this._rng.next()),p(this,"float",(s,t)=>this.uniform(s,t)()),p(this,"int",(s,t)=>this.uniformInt(s,t)()),p(this,"integer",(s,t)=>this.uniformInt(s,t)()),p(this,"bool",()=>this.uniformBoolean()()),p(this,"boolean",()=>this.uniformBoolean()()),p(this,"uniform",(s,t)=>this._memoize("uniform",st,s,t)),p(this,"uniformInt",(s,t)=>this._memoize("uniformInt",it,s,t)),p(this,"uniformBoolean",()=>this._memoize("uniformBoolean",rt)),p(this,"normal",(s,t)=>Qe(this,s,t)),p(this,"logNormal",(s,t)=>Je(this,s,t)),p(this,"bernoulli",s=>qe(this,s)),p(this,"binomial",(s,t)=>Be(this,s,t)),p(this,"geometric",s=>Ye(this,s)),p(this,"poisson",s=>nt(this,s)),p(this,"exponential",s=>He(this,s)),p(this,"irwinHall",s=>Xe(this,s)),p(this,"bates",s=>We(this,s)),p(this,"pareto",s=>Ze(this,s)),this._rng=ae(e)}get rng(){return this._rng}clone(e=this.rng.clone()){return new fe(e)}use(e){this._rng=ae(e)}choice(e){if(!Array.isArray(e))throw new TypeError(`Random.choice expected input to be an array, got ${typeof e}`);const s=e.length;if(s>0){const t=this.uniformInt(0,s-1)();return e[t]}else return}_memoize(e,s,...t){const r=`${t.join(";")}`;let i=this._cache[e];return(i===void 0||i.key!==r)&&(i={key:r,distribution:s(this,...t)},this._cache[e]=i),i.distribution}},at=new ot;const pe=h.createContext(void 0),V=()=>{const n=h.useContext(pe);if(!n)throw new Error("useGameContext must be used within a GameProvider");return n},lt=({children:n})=>{const[e,s]=h.useState(Array.from({length:100},(g,b)=>({id:b,isDone:!1,correctCircle:S(),usedLifeline:!1}))),[t,r]=h.useState(0),[i,o]=h.useState(0),[a,c]=h.useState(!1),[u,d]=h.useState(3),[f,m]=h.useState(!1),[j,I]=h.useState(null);h.useState([]);function S(){return at.int(0,2)}const z=(g,b)=>{var L;s(w=>w.map(y=>y.id===g?{...y,isDone:!0}:y)),((L=e.find(w=>w.id===g))==null?void 0:L.correctCircle)!==b?(o(w=>w+1),r(w=>w+1),(t+1)%3===0&&t!==0&&d(w=>w+1)):m(!0)},W=()=>{u>0?(s(g=>g.map(b=>b.id===t?{...b,isDone:!0,usedLifeline:!0}:b)),(t+1)%3===0&&t!==0||d(g=>g-1),o(g=>g+1),r(g=>g+1)):alert("You don't have any lifelines!")},q=async()=>{s(Array.from({length:100},(g,b)=>({id:b,isDone:!1,correctCircle:S(),usedLifeline:!1}))),r(0),o(0),d(3),m(!1)};return l.jsx(pe.Provider,{value:{rows:e,currentRowIndex:t,score:i,gameOver:f,guessedCircle:j,handleGuessMade:z,resetGame:q,lifeline:u,handleLifeline:W,usedLifeline:a,setUsedLifeline:c},children:n})};function H({isCorrect:n=!1,guessMade:e,setGuessMade:s,circleIndex:t,rowId:r}){const{guessedCircle:i,handleGuessMade:o,usedLifeline:a,setUsedLifeline:c,rows:u}=V(),[d,f]=h.useState("bg"),m=" ",j="bg-[#4B0082]";h.useEffect(()=>{e&&f(n?"bg-green-500":"bg-red-500")},[e,n]),h.useEffect(()=>{u[r].usedLifeline&&f(j)},[u[r].usedLifeline]);const I=()=>{e||(s(!0),o(r,t))};return l.jsx("button",{className:`flex p-4 text-white-border border border-[#10598e] hover:bg-[#10598e] rounded-full lg:w-12 lg:h-12 lg:space-x-16 sm:w-6 sm:h-6 ${d}`,onClick:I,disabled:e,children:m})}function ct({rowId:n}){const{rows:e,handleGuessMade:s,guessedCircle:t}=V(),r=e.find(a=>a.id===n),[i,o]=h.useState(!1);return r?l.jsxs("div",{className:"flex flex-row justify-content items-center sm:space-x-6 lg:space-x-16 xs:space-x-4 ",children:[l.jsx(H,{isCorrect:r.correctCircle!==0,circleIndex:0,guessMade:i,setGuessMade:o,rowId:n}),l.jsx(H,{isCorrect:r.correctCircle!==1,circleIndex:1,guessMade:i,setGuessMade:o,rowId:n}),l.jsx(H,{isCorrect:r.correctCircle!==2,circleIndex:2,guessMade:i,setGuessMade:o,rowId:n})]}):null}function ut({isOpen:n,onClose:e,scoresList:s}){return n?l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[l.jsx("div",{className:"fixed inset-0 bg-black opacity-50"}),l.jsx("div",{className:"fixed inset-0 backdrop-blur-sm"}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 z-10 max-w-3xl w-full",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Scoreboard"}),l.jsx("div",{className:"overflow-auto max-h-96",children:s&&s.length>0?l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-customBlue",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-lg font-medium text-white tracking-wider",children:"Rank"}),l.jsx("th",{className:"px-6 py-3 text-left text-lg font-medium text-white tracking-wider",children:"Name"}),l.jsx("th",{className:"px-6 py-3 text-left text-lg font-medium text-white tracking-wider",children:"Score"})]})}),l.jsx("tbody",{children:s.map((r,i)=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i+1}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.name}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.highestScore})]},i))})]}):l.jsx("p",{className:"text-center text-lg",children:"Sign in or create an account to see the scoreboard after playing once."})}),l.jsx("button",{className:"mt-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",onClick:e,children:"Close"})]})]}):null}async function dt(){try{const n=G(),e=F(n,"users");return(await ge(e)).docs.map(i=>i.data()).map(i=>({name:i.name,highestScore:i.highestScore})).sort((i,o)=>parseInt(o.highestScore)-parseInt(i.highestScore)).slice(0,99)}catch(n){n instanceof Error&&console.error(n.message)}return null}async function ht(n){const e=n,s=G(),t=F(s,"users"),r=J(t,e);return(await le(r)).data()}async function ft(n,e){try{const s=G(),t=F(s,"users"),r=J(t,e);(await le(r)).data().highestScore<n&&await ve(r,{highestScore:n})}catch(s){s instanceof Error&&console.error(s.message)}}async function pt(n,e){const s=Q();await be(s,n,e),alert("You have been logged in! You can continue playing, good luck!")}async function mt(n,e,s,t){try{const r=Q(),i=await we(r,e,s),o=G(),a=F(o,"users"),c=J(a,i.user.uid),u={id:i.user.uid,name:n,email:e,highestScore:t};await Ee(c,u),alert("You have been registered! You can continue playing, good luck!")}catch(r){console.error("An error occured during registration: ",r),r instanceof Error?alert(r.message||"An error occured during registration. Try again"):alert("An error occured during registration. Try again")}}function xt({isOpen:n,setIsOpen:e}){const{score:s}=V(),[t,r]=h.useState(""),[i,o]=h.useState(""),[a,c]=h.useState(""),u=async()=>{a.length>5?(await mt(t,i,a,s),e(!1)):alert("Password length must be longer than 5!")};return n?l.jsx(l.Fragment,{children:n&&l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[l.jsx("div",{className:"fixed inset-0 bg-black opacity-50"}),l.jsx("div",{className:"fixed inset-0 backdrop-blur-sm"}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 z-10",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Register"}),l.jsxs("form",{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"username",children:"Username"}),l.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",type:"text",placeholder:"Username",value:t,onChange:d=>r(d.target.value)})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),l.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"email",type:"email",placeholder:"Email",value:i,onChange:d=>o(d.target.value)})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),l.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"password",type:"password",placeholder:"******",value:a,onChange:d=>c(d.target.value)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button",onClick:u,children:"Register"}),l.jsx("button",{className:"inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800",type:"button",onClick:()=>e(!1),children:"Cancel"})]})]})]})]})}):null}function gt({isOpen:n,setIsOpen:e}){const[s,t]=h.useState(""),[r,i]=h.useState(""),o=async()=>{await pt(s,r),e(!1)};return n?l.jsx(l.Fragment,{children:n&&l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[l.jsx("div",{className:"fixed inset-0 bg-black opacity-50"}),l.jsx("div",{className:"fixed inset-0 backdrop-blur-sm"}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 z-10",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Login"}),l.jsxs("form",{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"username",children:"E-mail"}),l.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"email",type:"text",placeholder:"Email",value:s,onChange:a=>t(a.target.value)})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),l.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"password",type:"password",placeholder:"******",value:r,onChange:a=>i(a.target.value)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button",onClick:o,children:"Sign In"}),l.jsx("button",{className:"inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800",type:"button",onClick:()=>e(!1),children:"Cancel"})]})]})]})]})}):null}function vt(){return l.jsx(lt,{children:l.jsx(bt,{})})}function bt(){const{rows:n,currentRowIndex:e,score:s,gameOver:t,resetGame:r,lifeline:i,handleLifeline:o,usedLifeline:a,setUsedLifeline:c}=V(),u=h.useRef(null),[d,f]=h.useState(!1),[m,j]=h.useState(!1),[I,S]=h.useState(!1),[z,W]=h.useState([]),[q,g]=h.useState(null),b=Math.max(0,e-2),se=Math.min(n.length,e+3),[L,w]=h.useState(n.slice(b,se)),[y,me]=h.useState();h.useEffect(()=>{const x=Q(),v=Ne(x,T=>{me(T)});return()=>v()},[]),h.useEffect(()=>{async function x(){return await ht(y.uid)}x().then(v=>g(v))},[y,t]),h.useEffect(()=>{async function x(){return await ft(s,y.uid),await dt()}x().then(v=>{W(v)})},[y,t]),h.useEffect(()=>{u.current=e;const x=Math.max(0,e-2),v=Math.min(n.length,e+3),T=n.slice(x,v);w(T)},[n,e]);const xe=x=>{const v="scale-150 opacity-100",T="scale-100 opacity-75 pointer-events-none",re="scale-75 opacity-50 pointer-events-none";return x===e?`${v} middle-row upper-to-middle`:x===e-1?`${T} lower-row middle-to-lower`:x===e-2?`${re} bottom-row lower-to-bottom`:x===e+1?`${T} upper-row top-to-upper`:x===e+2?`${re} top-row none-to-top`:"hidden"};return l.jsxs("div",{className:"relative items-center overflow-hidden w-screen h-screen box-border sm:size-min",children:[t?l.jsxs("div",{className:"relative flex flex-col justify-center items-center h-screen p-8",children:[l.jsx("h1",{className:"text-8xl mb-16",children:"Game Over"}),l.jsxs("p",{className:"text-2xl mb-4",children:["Your score is ",s,"! Try again, you can do better!"]}),l.jsx("button",{className:"bg-blue-500 text-white p-4 rounded mt-2",onClick:r,children:"Play Again"}),q===null?l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-2xl mb-4 mt-16",children:"If you want to save your score and see yourself in the scoreboard, create an account!"}),l.jsxs("div",{className:"flex flex-row justify-center items-center space-x-8",children:[l.jsx("button",{className:"bg-blue-500 text-white p-4 rounded mt-2",onClick:()=>j(!0),children:"Let's create!"}),l.jsx("button",{className:"bg-blue-500 text-white p-4 rounded mt-2",onClick:()=>f(!0),children:"I already have!"})]})]}):l.jsx("p",{className:"text-2exl mb-4 mt-16"})]}):l.jsxs("div",{className:"mr-8",children:[l.jsxs("div",{className:"flex flex-col items-center w-full p-4 bg-gray-800 text-white flex-shrink",children:[l.jsxs("div",{className:"flex flex-row justify-around items-center w-screen p-4 max-w-4xl",children:[l.jsxs("div",{className:"lg:text-2xl xs:text-lg",children:["Score: ",s]}),l.jsxs("div",{className:"lg:text-2xl xs:text-lg",children:["Lifelines: ",i]}),l.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline z-50",onClick:()=>S(!0),children:"Scoreboard"})]}),l.jsx("button",{className:"mt-1 bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline z-50",onClick:()=>{c(!0),o()},children:"Use Lifeline"})]}),l.jsx("div",{className:"relative flex xs:right-12 lg:right-0 flex-col items-center justify-content w-screen h-screen bottom-24",children:l.jsx(ne,{children:L.map((x,v)=>l.jsx(ee,{timeout:1500,classNames:"fade",children:l.jsxs("div",{className:`${xe(b+v)} center-row xl:space-y-16 lg:space-y-12 md:space-y-8 sm:space-y-4 xs:space-x-4`,children:[x.id+1,l.jsx(ct,{rowId:x.id})]})},x.id))})})]}),l.jsx(ut,{isOpen:I,onClose:()=>S(!1),scoresList:z}),l.jsx(xt,{isOpen:m,setIsOpen:j}),l.jsx(gt,{isOpen:d,setIsOpen:f})]})}function wt(){return l.jsx("section",{className:"flex flex-col justify-between items-center bg-[#0e347a] min-h-full min-w-min p-4 overflow-hidden",children:l.jsx(vt,{})})}const jt=()=>[{title:"Deimos GDG"},{name:"description",content:"Welcome to Deimos Game!"}];function yt(){return l.jsx("div",{className:"overflow-hidden",children:l.jsx(wt,{})})}export{yt as default,jt as meta};
